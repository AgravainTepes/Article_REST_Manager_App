Задание
Реализовать REST API согласно описанию, приведённому ниже.
Для реализации использовать связку Python+SQLAlchemy+Flask
Готовые библиотеки для реализации API (flask-restless, и т. д.) не использовать!
Обработчики HTTP запросов должны быть реализованы самостоятельно!
Результат выполнения задания разместить на любом git хостинге (github, gitlab, bitbucket)
Результат выполнения задания должен содержать инструкции по установке и запуску ПО,
при необходимости скрипты развёртывания.
Описание REST API:
API предоставляет доступ к набору сущностей Article
Сущность содержит следующие поля:
id: integer, — идентификатор статьи
author: string — автор
created: isodatetime — дата, время создания статьи, присваивается автоматически при
создании записи
updated: isodatetime — дата, время обновления статьи, присваивается автоматически при
создании и обновлении записи
content: text — содержимое статьи
В качестве транспортного протокола API используется протокол HTTP
API возвращает и принимает данные в формате JSON
Список вызовов:
URL HTTP метод Описание
/api/articles GET Получить список статей
/api/articles POST Добавить статью
/api/articles/<id> GET Получить данные статьи с идентификатором id
/api/articles/<id> PUT, PATCH Обновить данные статьи с идентификатором id,
допускается частичное обновление
/api/articles/<id> DELETE Удалить статью и идентификатором id
Описание вызовов:
GET /api/articles
Коды возврата: 200
Принимаемые данные: нет
Возвращаемые данные:
{
 "objects": [
 {
 "author": "Pushkin A.S.",
 "content": "Я помню чудное мгновенье",
 "created": "2019-01-28T10:09:39",
 "id": 1,
 "updated": "2019-01-28T10:09:39"
 },
 {
 "author": "Pushkin A.S.",
 "content": "Я помню чудное мгновенье",
 "created": "2019-01-28T10:09:39",
 "id": 2,
 "updated": "2019-01-28T10:09:39"
 }
 ]
}
POST /api/articles
Коды возврата: 200, 400 — при некорректных входных данных
Принимаемые данные:
{
 "author": "Pushkin A.S.",
 "content": "Я помню чудное мгновенье",
}
Возвращаемые данные:
{
 "author": "Pushkin A.S.",
 "content": "Я помню чудное мгновенье",
 "created": "2019-01-28T10:09:39",
 "id": 2,
 "updated": "2019-01-28T10:09:39"
}
GET /articles/<id>
Коды возврата: 200, 404 — при отсутствии сущности
Принимаемые данные: нет
Возвращаемые данные:
{
 "author": "Pushkin A.S.",
 "content": "Я помню чудное мгновенье",
 "created": "2019-01-28T10:09:39",
 "id": 2,
 "updated": "2019-01-28T10:09:39"
}
PUT /articles/<id>
PATCH /articles/<id>
Допускается частичное обновление полей сущности
Коды возврата: 200, 404 — при отсутствии сущности
Принимаемые данные:
{
 "author": "Pushkin A.S.",
 "content": "Я помню чудное мгновенье",
}
Возвращаемые данные:
{
 "author": "Pushkin A.S.",
 "content": "Я помню чудное мгновенье",
 "created": "2019-01-28T10:09:39",
 "id": 2,
 "updated": "2019-01-28T10:09:39"
}
DELETE /articles/<id>
Коды возврата: 200, 404 — при отсутствии сущности
Принимаемые данные: нет
Возвращаемые данные:
{
 "message": "ok"
}
Обработка ошибок:
Ошибки должны возвращаться стандартными HTTP кодами
Тело ответа должно содержать JSON содержащий ключ «message» с текстовым описанием
ошибки.
Пример:
Запрос:
GET /api/articles/100500
Ответ:
404,
{
 "message": "article 100500 not found"
 }
